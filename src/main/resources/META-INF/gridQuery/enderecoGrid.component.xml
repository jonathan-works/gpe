<components xmlns="http://jboss.com/products/seam/components" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jboss.com/products/seam/core http://jboss.com/products/seam/core-2.2.xsd                   http://jboss.com/products/seam/security http://jboss.com/products/seam/security-2.2.xsd                  http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.2.xsd">	

<!-- $Id: enderecoGrid.component.xml 704 2010-08-12 23:21:10Z jplacerda $ -->


	<component name="enderecoGrid" class="br.com.itx.component.grid.GridQuery">
		<property name="ejbql">select o from Endereco o</property>
		<property name="maxResults">16</property>
		<property name="gridId">endereco</property>
		<property name="key">idEndereco</property>
		<property name="columns">
			<value>usuario : {properties : {order: nome}}</value>
			<value>cep : {properties : {order: numeroCep}}</value>
			<value>nomeLogradouro</value>			
			<value>nomeBairro</value>			
			<value>numeroEndereco</value>			
			<value>complemento</value>			
			<value>correspondencia: { valueType: sim_nao }</value>			
		</property>
		<property name="restrictions">
			<value>usuario.ativo = #{true}</value>
			<value>usuario = #{enderecoSearch.usuario}</value>
			<value>usuario.idPessoa = #{usuarioHome.id}</value>
			<value>cep = #{enderecoSearch.cep}</value>
			<value>cep.idCep = #{cepHome.id}</value>
			<value>lower(nomeLogradouro) like concat(lower(#{enderecoSearch.nomeLogradouro}),'%')</value>
			<value>lower(nomeBairro) like concat(lower(#{enderecoSearch.nomeBairro}),'%')</value>
			<value>lower(numeroEndereco) like concat(lower(#{enderecoSearch.numeroEndereco}),'%')</value>
			<value>lower(complemento) like concat(lower(#{enderecoSearch.complemento}),'%')</value>
		</property>		
		<property name="searchFields">
			<value>usuario : {type : combo, properties: {items: usuarioItems}}</value>
			<value>cep : {type : combo, properties: {items: cepItems}}</value>
			<value>nomeLogradouro</value>
			<value>nomeBairro</value>
			<value>numeroEndereco</value>
			<value>complemento</value>
		</property>
		<property name="order">nomeLogradouro</property>
	</component>
	
	<component name="enderecoSearch" class="br.com.infox.ibpm.entity.Endereco" />	
	
</components>
