<components xmlns="http://jboss.org/schema/seam/components" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jboss.org/schema/seam/core http://jboss.org/schema/seam/core-2.3.xsd                   http://jboss.org/schema/seam/security http://jboss.org/schema/seam/security-2.3.xsd                  http://jboss.org/schema/seam/components http://jboss.org/schema/seam/components-2.3.xsd">	

<!-- $Id: cepGrid.component.xml 704 2010-08-12 23:21:10Z jplacerda $ -->


	<component name="cepGrid" class="br.com.itx.component.grid.GridQuery">
		<property name="ejbql">select o from Cep o</property>
		<property name="maxResults">16</property>
		<property name="gridId">cep</property>
		<property name="key">idCep</property>
		<property name="columns">
			<value>numeroCep</value>			
			<value>municipio.estado: {properties: {header: 'Estado'}}</value>
			<value>municipio: {properties: {header: 'Cidade'}}</value>
			<value>nomeLogradouro</value>			
			<value>nomeBairro</value>	
			<value>ativo: {valueType: ativo}</value>		
		</property>
		<property name="restrictions">
			<value>lower(numeroCep) like concat('%',lower(#{cepSearch.numeroCep}),'%')</value>
			<value>lower(nomeLogradouro) like concat('%',lower(#{cepSearch.nomeLogradouro}),'%')</value>
			<value>lower(nomeBairro) like concat('%',lower(#{cepSearch.nomeBairro}),'%')</value>
			<value>lower(complemento) like concat('%',lower(#{cepSearch.complemento}),'%')</value>
			<value>o.ativo = #{cepSearch.ativo}</value>	
			<value>municipio.estado = #{municipioSearch.estado}</value>
			<value>municipio = #{municipioSuggest.instance}</value> <!-- Utilizado quando o campo municipio for Suggest -->
			<value>municipio = #{cepSearch.municipio}</value> <!-- Utilizado quando o campo municipio for Combo-->
		</property>		
		<property name="searchFields">
		    <value>ativo: {type : comboSituacao}</value>
			<value>numeroCep:{type: cep}</value>
			<value>nomeLogradouro</value>
			<value>nomeBairro</value>
			<value>municipio: {type: suggestMunicipioEstadoSearch, 
				   properties:{items: 'estadoItems', handler: municipioSuggest}}</value>
		</property>
		<property name="order">numeroCep</property>
	</component>	
	<component name="cepSearch" class="br.com.infox.ibpm.entity.Cep" />	
	<component name="municipioSearch" class="br.com.infox.ibpm.entity.Municipio" />		
</components>
