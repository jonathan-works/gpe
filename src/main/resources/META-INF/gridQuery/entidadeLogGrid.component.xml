<components xmlns="http://www.jboss.org/schema/seam/components" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.jboss.org/schema/seam/core http://www.jboss.org/schema/seam/core-2.3.xsd                   http://www.jboss.org/schema/seam/security http://www.jboss.org/schema/seam/security-2.3.xsd                  http://www.jboss.org/schema/seam/components http://www.jboss.org/schema/seam/components-2.3.xsd">	

<!-- $Id: entidadeLogGrid.component.xml 704 2010-08-12 23:21:10Z jplacerda $ -->


	<component name="entidadeLogGrid" class="br.com.itx.component.grid.GridQuery">
		<property name="ejbql">select o from EntityLog o</property>
		<property name="maxResults">15</property>
		<property name="gridId">entidadeLog</property>
		<property name="key">idLog</property>
		<property name="columns">
			<value>nomeEntidade</value>	
			<value>idEntidade</value>
			<value>ip</value>
			<value>dataLog: {valueType: date}</value>
			<value>usuario</value>
			<value>tipoOperacao: {valueType: enum}</value>
			<value>detalhe: {valueType: detalheEntityLog}</value>			
		</property>
		<property name="restrictions">
			<value>ip like concat(lower(#{consultaEntidadeLogHome.instance.ip}),'%')</value>
			<value>usuario = #{consultaEntidadeLogHome.instance.usuario}</value>
			<value>nomeEntidade = #{consultaEntidadeLogHome.instance.nomeEntidade}</value>
			<value>tipoOperacao = #{consultaEntidadeLogHome.instance.tipoOperacaoLogEnum}</value>
			<value>nomeEntidade = #{consultaEntidadeLogHome.nomeClasse}</value>
			<value>nomePackage = #{consultaEntidadeLogHome.nomePackage}</value>
			<value>idEntidade = #{consultaEntidadeLogHome.idEntidade}</value>	
            <value>cast(dataLog as date) >= #{consultaEntidadeLogHome.instance.dataInicio}</value>
            <value><![CDATA[cast(dataLog as date)<= #{consultaEntidadeLogHome.instance.dataFim} ]]></value>
		</property>		
		<property name="order">dataLog desc</property>
	</component>
	
	<component name="entidadeLogSearch" class="br.com.infox.ibpm.entity.log.EntityLog" />	
	
</components>
