<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- $Id: consultaProcessoFluxoGrid.component.xml 704 2010-08-12 23:21:10Z jplacerda $ -->

<components xmlns="http://jboss.com/products/seam/components" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jboss.com/products/seam/core http://jboss.com/products/seam/core-2.0.xsd                   http://jboss.com/products/seam/security http://jboss.com/products/seam/security-2.0.xsd            http://jboss.com/products/seam/components http://jboss.com/products/seam/components-2.0.xsd">	
	<component name="consultaProcessoFluxoGrid" class="br.com.itx.component.grid.GridQuery">
		<property name="ejbql">
			select o from Processo o where o.fluxo is not null 
		</property>
		<property name="order">o.idProcesso</property>
		<property name="maxResults">10</property>
		<property name="gridId">consultaProcessoFluxo</property>
		<property name="viewId">/Processo/ConsultaProcesso</property>
		<property name="key">idProcesso</property>
        <property name="home">consultaProcesso</property>

        <property name="columns">
        	<value>idProcesso: {properties: {header: 'Id do Processo'}}</value>
        	<value>numeroProcesso: {properties: {header: 'Número do Processo'}}</value>
        	<value>fluxo: {properties: {header: 'Fluxo'}}</value>
            <value>dataInicio: {type: date, properties : {header: 'Data de Início', pattern: "dd/MM/yyyy"}}</value>
        </property>
        <property name="restrictions">
        	<value>lower(o.numeroProcesso) like concat('%', lower(#{consultaProcessoHome.instance.numeroProcesso}),'%')</value>
        	<value>o.idProcesso = #{consultaProcessoHome.instance.idProcessoTrf}</value>
        	<value>cast(o.dataInicio as date) >= #{consultaProcessoHome.instance.dataInicio}</value>
        	<value><![CDATA[cast(o.dataInicio as date)<= #{consultaProcessoHome.instance.dataFim} ]]></value>
        </property>
    </component>
</components>
