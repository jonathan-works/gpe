<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:wi="http://www.itx.com.br/jsf">

    <h:form id="itemProcessoForm">
        <s:div id="itemDiv"
            rendered="#{action.renderedByItem and !action.renderizarCadastroPartes}">
            <wi:dataTable values="#{action.itemList}" tableTitle="#{messages['item.reportTitle']}"
                id="itemTable" rowId="#{row.idItem}"
                searchFormStyleClass="hidden">
                <ui:define name="headerToolBar" />
                <ui:define name="toolBar">
                    <a:commandLink
                        rendered="#{!action.necessitaPartes()}"
                        action="#{action.onSelectItem(row)}"
                        execute="@this" render="@this"
                        limitRender="true"
                        oncomplete="open('#{pathResolver.contextPath}/Processo/movimentar.seam?idProcesso=#{action.processoEpa.idProcesso}', '', 'fullscreen=1, resizable=yes,scrollbars=1');window.location='#{pathResolver.contextPath}/Painel/list.seam';">
                        <h:graphicImage value="#{a4jSkin.imgIconStart}" />
                    </a:commandLink>
                    <a:commandLink
                        rendered="#{action.necessitaPartes()}"
                        action="#{action.onSelectItem(row)}"
                        oncomplete="#{partesController.setNatureza(action.natureza)}"
                        execute="@this" render="@all" limitRender="true">
                        <h:graphicImage value="#{a4jSkin.imgIconStart}" />
                    </a:commandLink>
                </ui:define>
                <wi:columnOutputText columnId="item"
                    columnHeader="#{messages['item.descricaoItem']}"
                    value="#{row.item.caminhoCompletoToString()}" />
            </wi:dataTable>
        </s:div>
    </h:form>

</ui:composition>
