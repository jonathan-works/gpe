<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:wi="http://www.itx.com.br/jsf"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

    <s:div id="includePessoaJuridicaDiv">
        <wi:dataForm formId="pessoaJuridicaForm"
            formTitle="#{messages['form.title']}" panelWidth="70%"
            rendered="#{isUsuarioAtualResponsavel and partesProcessoController.podeAdicionarPartes() and !partesProcessoController.apenasPessoaFisica()}">
            <wi:inputCnpj id="cnpj"
                value="#{partesProcessoController.pessoaJuridica.cnpj}"
                label="#{messages['pessoaJuridica.cnpj']}"
                assignTo="#{partesProcessoController.pessoaJuridica.cnpj}"
                required="true">
                <a:ajax event="blur" execute="@this"
                    render="loadedByCNPJ" limitRender="true"
                    listener="#{partesProcessoController.searchByCnpj()}" />
            </wi:inputCnpj>
            <h:panelGroup id="loadedByCNPJ">
                <wi:inputText id="nome"
                    value="#{partesProcessoController.pessoaJuridica.nome}"
                    label="#{messages['pessoaJuridica.nome']}"
                    required="true" />
                <wi:inputText id="razao"
                    value="#{partesProcessoController.pessoaJuridica.razaoSocial}"
                    label="#{messages['pessoaJuridica.razaoSocial']}"
                    required="true" />
            </h:panelGroup>
            <ui:define name="buttons">
                <wi:commandButton id="saveButton"
                    action="#{partesProcessoController.includePessoaJuridica()}"
                    reRender="buscaDiv, parteProcessoListDiv, includePessoaJuridicaDiv, pessoasListDiv, storeDiv"
                    value="#{messages['crud.persist']}" />
            </ui:define>
        </wi:dataForm>
        <br />
    </s:div>
</ui:composition>