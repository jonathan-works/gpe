<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <link rel="stylesheet" href="#{request.contextPath}/javax.faces.resource/print.css.seam?ln=styleSkinInfox" />
</h:head>
<h:body id="body">
    <c:if test="#{not empty flash.idDocumento and flash.binario}">
            <f:event listener="#{documentoDownloader.downloadDocumentoFlash(flash.idDocumento)}" type="preRenderView" />
        <h:outputText value="#{documentoDownloader.mensagemErro}"
            rendered="#{not empty documentoDownloader.mensagemErro}" />
            <h:form>
            <br/>
            <h:commandLink id="linkDownload" 
                value="Clique aqui para baixar o arquivo original"
                rendered="#{documentoDownloader.erroMargem}"
                immediate="true"
                style="font-size:15px; font-weight:bold">
                <c:set target="#{flash}" property="documentoOriginal" value="#{true}" />
                <c:set target="#{flash}" property="idDocumento" value="#{flash.idDocumento}" />
                <c:set target="#{flash}" property="binario" value="#{true}" />
            </h:commandLink>
            </h:form>
    </c:if>
    <c:if test="#{not empty flash.idDocumento and not flash.binario}">
        <f:event listener="#{documentoHtmlView.setIdDocumento(flash.idDocumento)}" type="preRenderView" />
        <div style="margin: 0 0 1em; text-align: center;" class="noprint">
            <button id="btnimprimir" onclick="window.print();">Imprimir</button>
        </div>
        <div class="page">
            <div class="signature">
                <h:graphicImage styleClass="signature-qrcode" value="#{documentoHtmlView.qrCode}" />
                <span class="signature-text">
                    <div>
                        <h:outputText value="#{documentoHtmlView.signatureText}" />
                    </div>
                    <div>
                        <h:outputText value="#{documentoHtmlView.uuidText}" />
                    </div>
                </span>
            </div>
            <div class="text-content">
                <h:outputText value="#{documentoHtmlView.conteudo}" escape="false" />
            </div>
        </div>
    </c:if>
</h:body>
</html>