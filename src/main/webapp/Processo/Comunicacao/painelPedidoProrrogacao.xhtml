<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:wi="http://www.itx.com.br/jsf"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    
	<s:div id="painelProrrogacaoPrazo" style="margin-top:1em">
		<rich:panel
			header="#{infoxMessages['comunicacao.prorrogacaoPrazo']} - #{comunicacaoAction.destinatario.nome} / #{comunicacaoAction.destinatario.tipoComunicacao}"
			rendered="#{comunicacaoAction.prorrogacaoPrazo}">
			<h:form>
				<wi:selectOneMenuEntity id="classificacaoProrrogacao"
					label="#{infoxMessages['processoDocumento.classificacaoDocumento']}"
					value="#{comunicacaoAction.classificacaoDocumentoProrrogPrazo}"
					items="#{comunicacaoAction.classificacoesDocumentoProrrogacaoPrazo}"
					showLabelSelecione="true">
					<a:ajax event="change" limitRender="true" render="@form"
						execute="@form" />
				</wi:selectOneMenuEntity>
				<s:div id="anexo"
					rendered="#{not empty comunicacaoAction.classificacaoDocumentoProrrogPrazo 
		    				and not empty comunicacaoAction.classificacaoDocumentoProrrogPrazo.extensaoArquivosList}">
					<wi:fileUpload id="documentoProrrogacaoPrazo"
						doneLabel="#{infoxMessages['documento.upload.doneLabel']}"
						accept="#{comunicacaoAction.classificacaoDocumentoProrrogPrazo.acceptedTypes}"
						onclear="infox.showLoading()" oncomplete="infox.hideLoading()"
						reRender="btnGravar" />
					<s:div id="btnGravar">
						<wi:commandButton id="gravar"
							value="#{infoxMessages['crud.update']}"
							action="comunicacaoAction.pedirProrrogacaoPrazo()" execute="@this"
							reRender="pageBodyDialogMessage, comunicacoesDiv"
							rendered="#{documentoUploader.valido}" />
					</s:div>
				</s:div>
			</h:form>
		</rich:panel>
	</s:div>
</ui:composition>