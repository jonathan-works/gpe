<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:wi="http://www.itx.com.br/jsf"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    <s:div id="includePessoaFisicaDiv" styleClass="padding-top-5">

        <wi:dataForm formId="pessoaFisicaForm"
            formTitle="#{eppmessages['form.title']}" panelWidth="70%"
            rendered="#{participantesProcessoController.podeAdicionarPartesFisicas()}">
            <wi:inputCpf id="cpf"
                value="#{participantesProcessoController.participantePessoaFisica.pessoa.cpf}"
                label="#{eppmessages['pessoaFisica.cpf']}"
                assignTo="#{participantesProcessoController.participantePessoaFisica.pessoa.cpf}"
                required="true">
                <a:ajax event="blur"
                    listener="#{participantesProcessoController.searchByCpf()}"
                    execute="@this" render="loadedByCPF"
                    limitRender="true" />
            </wi:inputCpf>
            <h:panelGroup id="loadedByCPF">
	            <wi:inputText id="nome"
	                value="#{participantesProcessoController.participantePessoaFisica.pessoa.nome}"
	                label="#{eppmessages['pessoaFisica.nome']}" required="true" />
	                
	            <wi:inputEmail id="email"
	            	value="#{participantesProcessoController.email}"
	            	label="#{eppmessages['pessoaFisica.email']}" />
	                
	            <wi:inputDate id="dataNascimento"
	                value="#{participantesProcessoController.participantePessoaFisica.pessoa.dataNascimento}"
	                label="#{eppmessages['pessoaFisica.dataNascimento']}" />
	                
	            <wi:selectOneMenuEntity id="tipoPartes"
					items="#{participantesProcessoController.tipoPartes}"
					value="#{participantesProcessoController.participantePessoaFisica.tipoParte}"
					label="#{eppmessages['participanteProcesso.tipoParticipante']}"
					required="true"
					showLabelSelecione="true" />
					
				<wi:selectOneMenuEntity id="participanteSuperior"
					items="#{participantesProcessoController.participantesAtivos}"
					value="#{participantesProcessoController.participantePessoaFisica.participantePai}"
					label="#{eppmessages['participanteProcesso.superior']}"
					showLabelSelecione="true"/>
					
				<wi:inputDate id="dataInicio"
					value="#{participantesProcessoController.participantePessoaFisica.dataInicio}"
					label="#{eppmessages['participanteProcesso.dataInicioParticipacao']}" />
						
				<wi:inputDate id="dataFim"
					value="#{participantesProcessoController.participantePessoaFisica.dataFim}"
					label="#{eppmessages['participanteProcesso.dataFimParticipacao']}" />
						
	        </h:panelGroup>
            <ui:define name="buttons">
                <wi:commandButton id="saveButton"
                    action="#{participantesProcessoController.includePessoaFisica()}"
                    reRender="buscaDiv, parteProcessoListDiv, includePessoaFisicaDiv, pessoasListDiv, storeDiv, pageBodyDialogMessage"
                    value="#{eppmessages['crud.persist']}" />
            </ui:define>
        </wi:dataForm>
    </s:div>
</ui:composition>