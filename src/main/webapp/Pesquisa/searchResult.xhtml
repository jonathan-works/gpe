<?xml version="1.0" encoding="ISO-8859-1"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:s="http://jboss.org/schema/seam/taglib"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:wi="http://www.itx.com.br/jsf"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:a="http://richfaces.org/a4j"
				template="/WEB-INF/xhtml/templates/cleanTemplate.xhtml">

	<ui:define name="body">
		<a:loadScript src="/js/jquery.hotkeys.js" />
		<a:loadScript src="searchResult.js" />

		<s:div id="resultado">
			<div
				style="background-color: #F0F7F9; font-size: small; text-align: right; padding: 2px 1em; border-top: 1px solid #6B90DA">
			<div style="float: left; font-weight: bold">Pesquisa de
			documentos</div>
			<b>#{search.firstRow} a #{search.lastRow}</b> de <b>#{search.resultSize}</b>
			documentos sobre <b>#{search.searchText}</b></div>
			<h:form>
				<h:dataTable id="searchResult" rows="#{search.pageSize}"
					rendered="#{! empty search.searchResult}"
					value="#{search.searchResult}" var="v">
					<h:column>
						<div
							style="margin: 1em 0 0 0; font-family: arial, sans-serif; font-size: 11px;">
						<s:link target="_blank" view="/Processo/Consulta/paginator.xhtml"
							value="Processo: #{processoHome.getNumeroProcesso(v.processo)} - #{v.taskName}"
							style="font-size: 13px; color:blue">
							<f:param name="queryString" value="#{search.searchText}" />
							<f:param name="inicio" value="0" />
							<f:param name="taskId" value="#{v.taskId}" />
							<f:param name="idProcesso" value="#{v.processo}" />
						</s:link>

						<div style="width: 50%">
							<h:outputText value="#{v.texto}" escape="false" /> <b>&#183;&#183;&#183;</b>
						</div>
						</div>
					</h:column>
				</h:dataTable>
			</h:form>
		</s:div>

		<s:div id="searchPager">
			<h:form id="pager">
				<h:panelGrid columns="5" style="position: fixed; bottom:0; right:0"
					cellpadding="0" cellspacing="0" border="0"
					rendered="#{search.resultSize > 0 and (search.previousPageAvailable or search.nextPageAvailable)}">
					<h:commandButton id="firstPage" action="#{search.firstPage()}"
						disabled="#{!search.previousPageAvailable}"
						image="/img/grid/arrow-first#{search.previousPageAvailable ? '' : '-off'}.gif" />
					<h:commandButton id="previousPage"
						action="#{search.previousPage()}"
						disabled="#{!search.previousPageAvailable}"
						image="/img/grid/arrow-previous#{search.previousPageAvailable ? '' : '-off'}.gif" />

					<h:commandButton id="nextPage" action="#{search.nextPage()}"
						disabled="#{!search.nextPageAvailable}"
						image="/img/grid/arrow-next#{search.nextPageAvailable ? '' : '-off'}.gif" />
					<h:commandButton id="lastPage" action="#{search.lastPage()}"
						disabled="#{!search.nextPageAvailable}"
						image="/img/grid/arrow-last#{search.nextPageAvailable ? '' : '-off'}.gif" />
				</h:panelGrid>
			</h:form>
		</s:div>

	</ui:define>

</ui:composition>