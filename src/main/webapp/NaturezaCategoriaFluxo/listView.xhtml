<?xml version="1.0" encoding="UTF-8"?>
<!--
  IBPM - Ferramenta de produtividade Java
  Copyright (c) 1986-2009 Infox Tecnologia da Informação Ltda.
 
  Este programa é software livre; você pode redistribuí-lo e/ou modificá-lo 
  sob os termos da GNU GENERAL PUBLIC LICENSE (GPL) conforme publicada pela 
  Free Software Foundation; versão 2 da Licença.
  Este programa é distribuído na expectativa de que seja útil, porém, SEM 
  NENHUMA GARANTIA; nem mesmo a garantia implícita de COMERCIABILIDADE OU 
  ADEQUAÇÃO A UMA FINALIDADE ESPECÍFICA.
  
  Consulte a GNU GPL para mais detalhes.
  Você deve ter recebido uma cópia da GNU GPL junto com este programa; se não, 
  veja em http://www.gnu.org/licenses/  
-->
<ui:composition
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:rich="http://richfaces.org/rich"
     xmlns:s="http://jboss.org/schema/seam/taglib"
     xmlns:infox="http://www.infox.com.br/jsf"
     xmlns:wi="http://www.itx.com.br/jsf"
     xmlns:a="http://richfaces.org/a4j"
     template="/WEB-INF/xhtml/templates/core/defaultTemplate.xhtml">
                       
	<ui:define
         name="title">#{messages['naturezaCategoriaFluxo.titlePage']}</ui:define>
	<ui:param
         name="home"
         value="#{naturezaCategoriaFluxoCrudAction}" />
	<ui:define
         name="searchGrid">
	    <wi:dataTable
             values="#{naturezaCategoriaFluxoList.list(15)}"
             bean="#{naturezaCategoriaFluxoList}"
             tableTitle="#{messages['naturezaCategoriaFluxo.titleGrid']}"
             id="naturezaCategoriaFluxoList"
             rowId="#{row.idNaturezaCategoriaFluxo}">
			<ui:define
                 name="searchForm">
				<wi:searchForm
                     formId="pesquisarNaturezaCategoriaFormForm"
                     formTitle="#{messages['searchForm.title']}">
					<wi:selectOneMenuEntity
						id="natureza"
						label="#{messages['naturezaCategoriaFluxo.natureza']}"
						value="#{naturezaCategoriaFluxoList.entity.natureza}"
						items="#{naturezaCategoriaFluxoList.naturezaList}"
						noSelectionLabel="#{messages['crud.select.select']}">
					</wi:selectOneMenuEntity>
					<wi:selectOneMenuEntity
						id="categoria"
						label="#{messages['naturezaCategoriaFluxo.categoria']}"
						value="#{naturezaCategoriaFluxoList.entity.categoria}"
						items="#{naturezaCategoriaFluxoList.categoriaList}"
						noSelectionLabel="#{messages['crud.select.select']}">
					</wi:selectOneMenuEntity>
					<wi:selectOneMenuEntity
						id="fluxo"
						label="#{messages['naturezaCategoriaFluxo.fluxo']}"
						value="#{naturezaCategoriaFluxoList.entity.fluxo}"
						items="#{naturezaCategoriaFluxoList.fluxoList}"
						noSelectionLabel="#{messages['crud.select.select']}">
					</wi:selectOneMenuEntity>
				</wi:searchForm>
			</ui:define>
			<ui:define
                 name="headerToolBar">
			</ui:define>
			<ui:define
				name="toolBar">
				<wi:toolBarEdit
					id="#{id}edit" />
				<wi:toolBar
					action="naturezaCategoriaFluxoCrudAction.remove(row)"
					limitToList="true"
					status=":status"
					render="searchGridRegion,pageBodyDialogMessage"
					onclick="confirm(\'#{messages['crud.confirmRemove']}\');"
					url="/img/remove.png"
					title="#{messages['crud.remove']}" />
			</ui:define>
			<wi:columnOutputText
                 columnId="natureza"
                 columnHeader="#{messages['naturezaCategoriaFluxo.natureza']}"
                 value="#{row.natureza}" />
			<wi:columnOutputText
                 columnId="categoria"
                 columnHeader="#{messages['naturezaCategoriaFluxo.categoria']}"
                 value="#{row.categoria}" />
			<wi:columnOutputText
                 columnId="fluxo"
                 columnHeader="#{messages['naturezaCategoriaFluxo.fluxo']}"
                 value="#{row.fluxo}" />
		</wi:dataTable>
	</ui:define>

	<ui:define name="form">
		<wi:dataForm
			formId="naturezaCatFluxoForm"
			formTitle="#{messages['form.title']}">
			<wi:selectOneMenuEntity
				id="naturezas"
				label="#{messages['naturezaCategoriaFluxo.natureza']}"
				value="#{naturezaCategoriaFluxoCrudAction.instance.natureza}"
				required="true"
				items="#{naturezaCategoriaFluxoCrudAction.naturezaList}"
				noSelectionLabel="#{messages['crud.select.select']}"/>
			<wi:selectOneMenuEntity
				id="categorias"
				label="#{messages['naturezaCategoriaFluxo.categoria']}"
				value="#{naturezaCategoriaFluxoCrudAction.instance.categoria}"
				required="true"
				items="#{naturezaCategoriaFluxoCrudAction.categoriaList}"
				noSelectionLabel="#{messages['crud.select.select']}"/>
			<wi:selectOneMenuEntity
				id="fluxo"
				label="#{messages['naturezaCategoriaFluxo.fluxo']}"
				value="#{naturezaCategoriaFluxoCrudAction.instance.fluxo}"
				required="true"
				items="#{naturezaCategoriaFluxoCrudAction.fluxoList}"
				noSelectionLabel="#{messages['crud.select.select']}"/>
		</wi:dataForm>
	</ui:define>

	<ui:define name="tabs">
		<infox:tab
            id="localizacaoTab"
            rendered="#{naturezaCategoriaFluxoCrudAction.isManaged()}"
            title="#{messages['naturezaCategoriaFluxo.localizacao']}"
            name="localizacaoTab">
            <s:div id="localizacaoFormDiv">
	            <wi:dataForm
					formId="natCatFluxoLocalizacaoForm"
					formTitle="#{messages['form.title']}">
					<ui:define name="buttons">
						<wi:commandButton
	                            id="saveButton"
	                            action="natCatFluxoLocalizacaoCrudAction.save"
	                            reRender="localizacaoTab, :pageBodyDialogMessage"
	                            value="#{messages['crud.persist']}" />
					</ui:define>
					<wi:tree
						id="localizacao"
						assignTo="natCatFluxoLocalizacaoCrudAction.instance.localizacao"
						label="#{messages['localizacao.localizacao']}"
						required="true"
						tree="#{localizacaoTree}" />
					<wi:selectBooleanCheckbox
						id="heranca"
						label="#{messages['natCatFluxoLocalizacao.heranca']}"
						value="#{natCatFluxoLocalizacaoCrudAction.instance.heranca}" />
				</wi:dataForm>
			</s:div>
			<s:div id="localizacaoDtDiv">
				<wi:dataTable
					id="natCatFluxoLocalizacaoList"
					values="#{natCatFluxoLocalizacaoList.list(15)}"
                    bean="#{naturezaCategoriaFluxoList}"
					rowId="#{row.idNatCatFluxoLocalizacao}"
					tableTitle="#{messages['natCatFluxoLocalizacao.titleGrid']}">
					<ui:define name="searchForm">
					</ui:define>
					<ui:define name="headerToolBar">
					</ui:define>
					<ui:define name="toolBar">
						<wi:toolBarRemove
							actionRemove="natCatFluxoLocalizacaoCrudAction.remove(row)" 
							reRender="localizacaoFormDiv, localizacaoDtDiv"/>
					</ui:define>
					<wi:columnOutputText
						hideOrder="true" 
						columnId="localizacao"
						columnHeader="#{messages['localizacao.localizacao']}"
						value="#{row.localizacao}" />
					<wi:columnBoolean 
						hideOrder="true"
						columnId="heranca"
						columnHeader="#{messages['natCatFluxoLocalizacao.heranca']}"
						columnWidth="10%"
						value="#{row.heranca}" />
				</wi:dataTable>
			</s:div>
		</infox:tab>
	</ui:define>
</ui:composition>
