<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:wi="http://www.itx.com.br/jsf"
    template="/WEB-INF/xhtml/templates/core/defaultTemplate.xhtml">

    <ui:define name="title">#{messages['item.titlePage']}</ui:define>
    <ui:param name="home" value="#{itemCrudAction}" />

    <ui:define name="searchGrid">
        <wi:dataTable values="#{itemList.list(15)}" bean="#{itemList}"
            tableTitle="#{messages['item.tableTitle']}" id="itemList"
            rowId="#{row.idItem}">
            <ui:define name="searchForm">
                <wi:searchForm formId="pesquisarItemForm"
                    formTitle="#{messages['searchForm.title']}">
                    <wi:inputText id="codigoItem"
                        value="#{itemList.entity.codigoItem}"
                        label="#{messages['item.codigoItem']}" />
                    <wi:inputText id="descricaoItem"
                        value="#{itemList.entity.descricaoItem}"
                        label="#{messages['item.descricaoItem']}" />
                    <wi:selectSituacaoOneMenu id="ativo"
                        label="#{messages['field.situacao']}"
                        value="#{itemList.entity.ativo}" />
                </wi:searchForm>
            </ui:define>
            <wi:columnOutputText columnId="codigoItem"
                columnHeader="#{messages['item.codigoItem']}"
                columnWidth="20%" value="#{row.codigoItem}" />
            <wi:columnOutputTextIdent columnId="caminhoCompleto"
                columnHeader="#{messages['item.descricaoItem']}"
                value="#{row.descricaoItem}"
                fullPath="#{row.caminhoCompleto}" />
            <wi:columnSituacao columnId="ativo"
                columnHeader="#{messages['field.situacao']}"
                columnWidth="15%" value="#{row.ativo}" />
        </wi:dataTable>
    </ui:define>

    <ui:define name="form">
        <wi:dataForm formId="itemForm"
            formTitle="#{messages['form.title']}">
            <wi:inputText id="codigoItem" required="true"
                label="#{messages['item.codigoItem']}"
                value="#{itemCrudAction.instance.codigoItem}" />
            <wi:inputText id="descricao" required="true"
                label="#{messages['item.descricaoItem']}"
                value="#{itemCrudAction.instance.descricaoItem}" />
            <wi:tree id="itemPai"
                assignTo="itemCrudAction.instance.itemPai"
                tree="#{itemTree}" icon="/img/nivelTree.gif"
                iconLeaf="/img/file.gif"
                label="#{messages['item.itemPai']}" />
            <wi:selectSituacaoRadio id="ativo"
                label="#{messages['field.situacao']}"
                value="#{itemCrudAction.instance.ativo}" />
        </wi:dataForm>
    </ui:define>

</ui:composition>
