<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
  IBPM - Ferramenta de produtividade Java
  Copyright (c) 1986-2009 Infox Tecnologia da Informação Ltda.
 
  Este programa é software livre; você pode redistribuí-lo e/ou modificá-lo 
  sob os termos da GNU GENERAL PUBLIC LICENSE (GPL) conforme publicada pela 
  Free Software Foundation; versão 2 da Licença.
  Este programa é distribuído na expectativa de que seja útil, porém, SEM 
  NENHUMA GARANTIA; nem mesmo a garantia implícita de COMERCIABILIDADE OU 
  ADEQUAÇÃO A UMA FINALIDADE ESPECÍFICA.
  
  Consulte a GNU GPL para mais detalhes.
  Você deve ter recebido uma cópia da GNU GPL junto com este programa; se não, 
  veja em http://www.gnu.org/licenses/  
-->
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:infox="http://www.infox.com.br/jsf"
    xmlns:wi="http://www.itx.com.br/jsf"
    template="/WEB-INF/xhtml/templates/core/defaultTemplate.xhtml">


    <ui:define name="title">#{messages['tipoProcessoDocumento.titlePage']}</ui:define>

    <ui:param
        name="home"
        value="#{tipoProcessoDocumentoHome}" />

    <ui:define name="searchGrid">

        <wi:dataTable
            values="#{tipoProcessoDocumentoList.list(15)}"
            bean="#{tipoProcessoDocumentoList}"
            tableTitle="#{messages['tipoProcessoDocumento.titleGrid']}"
            id="tipoProcessoDocumentoList"
            rowId="#{row.idTipoProcessoDocumento}">

            <ui:define name="searchForm">

                <wi:searchForm
                    formId="pesquisarTipoProcessoDocumentoForm"
                    formTitle="#{messages['searchForm.title']}">

                    <wi:inputText
                        id="codigoDocumento"
                        value="#{tipoProcessoDocumentoList.entity.codigoDocumento}"
                        label="#{messages['tipoProcessoDocumento.codigoDocumento']}"
                        maxlength="30" />
                    <wi:inputText
                        id="tipoProcessoDocumento"
                        label="#{messages['tipoProcessoDocumento.tipoProcessoDocumento']}"
                        value="#{tipoProcessoDocumentoList.entity.tipoProcessoDocumento}"
                        maxlength="100" />
                    <wi:selectOneMenuEnum
                        id="usoTipoDocumento"
                        label="#{messages['tipoProcessoDocumento.uso']}"
                        items="#{home.getTipoDocumentoEnumValues()}"
                        value="#{tipoProcessoDocumentoList.entity.inTipoDocumento}"
                        noSelectionLabel="[Todos]" />
                    <wi:selectOneMenuEnum
                        id="visibilidade"
                        label="#{messages['tipoProcessoDocumento.visibilidade']}"
                        items="#{home.getVisibilidadeEnumValues()}"
                        value="#{tipoProcessoDocumentoList.entity.visibilidade}"
                        noSelectionLabel="[Todos]" />
                    <wi:selectSituacaoOneMenu
                        id="ativo"
                        label="#{messages['field.situacao']}"
                        value="#{tipoProcessoDocumentoList.entity.ativo}" />

                </wi:searchForm>

            </ui:define>

            <wi:columnOutputText
                columnId="codigoDocumento"
                columnHeader="#{messages['tipoProcessoDocumento.codigoDocumento']}"
                value="#{row.codigoDocumento}" />
            <wi:columnOutputText
                columnId="tipoProcessoDocumento"
                columnHeader="#{messages['tipoProcessoDocumento.tipoProcessoDocumento']}"
                value="#{row.tipoProcessoDocumento}" />
            <wi:columnEnum
                columnId="inTipoDocumento"
                columnHeader="#{messages['tipoProcessoDocumento.uso']}"
                value="#{row.inTipoDocumento}" />
            <wi:columnEnum
                columnId="visibilidade"
                columnHeader="#{messages['tipoProcessoDocumento.visibilidade']}"
                value="#{row.visibilidade}" />
            <wi:columnSituacao
                columnId="ativo"
                columnHeader="#{messages['field.situacao']}"
                value="#{row.ativo}" />

        </wi:dataTable>

    </ui:define>

    <ui:define name="form">

        <wi:dataForm
            formId="tipoProcessoDocumentoForm"
            formTitle="#{messages['form.title']}">

            <wi:inputText
                id="codigoDocumento"
                value="#{tipoProcessoDocumentoHome.instance.codigoDocumento}"
                required="true"
                label="#{messages['tipoProcessoDocumento.codigoDocumento']}"
                maxlength="30" />
            <wi:inputText
                id="tipoProcessoDocumento"
                label="#{messages['tipoProcessoDocumento.tipoProcessoDocumento']}"
                required="true"
                value="#{tipoProcessoDocumentoHome.instance.tipoProcessoDocumento}"
                maxlength="150" />
            <wi:selectOneMenuEnum
                id="usoTipoDocumento"
                label="#{messages['tipoProcessoDocumento.uso']}"
                items="#{home.getTipoDocumentoEnumValues()}"
                value="#{home.instance.inTipoDocumento}"
                required="true"
                noSelectionLabel="#{messages['comboBox.select']}" />
            <wi:selectOneMenuEnum
                id="visibilidade"
                label="#{messages['tipoProcessoDocumento.visibilidade']}"
                items="#{home.getVisibilidadeEnumValues()}"
                value="#{home.instance.visibilidade}"
                required="true"
                noSelectionLabel="#{messages['comboBox.select']}" />
            <wi:selectOneRadio
                id="numera"
                label="#{messages['tipoProcessoDocumento.numera']}"
                value="#{home.instance.numera}"
                valueList="true:Sim, false:Não">

                <a:ajax
                    reRender="mascaraDiv"
                    ajaxSingle="true"
                    event="change"
                    status="status" />

            </wi:selectOneRadio>

            <s:div id="mascaraDiv">

                <wi:selectOneMenuEnum
                    id="tipoNumeracaoCombo"
                    rendered="#{tipoProcessoDocumentoHome.instance.numera}"
                    label="#{messages['classificacaoDocumento.tipoNumeracao']}"
                    items="#{home.getTipoNumeracaoEnumValues()}"
                    value="#{home.instance.tipoNumeracao}"
                    required="true"
                    noSelectionLabel="#{messages['comboBox.select']}" />

            </s:div>
            <wi:selectBooleanRadio
                id="sistema"
                label="#{messages['tipoProcessoDocumento.sistema']}"
                value="#{home.instance.sistema}" />
            <wi:selectSituacaoRadio
                id="ativo"
                label="#{messages['field.situacao']}"
                value="#{home.instance.ativo}" />
            <wi:inputTextarea
                id="tipoProcessoDocumentoObservacao"
                label="#{messages['tipoProcessoDocumento.tipoProcessoDocumentoObservacao']}"
                value="#{home.instance.tipoProcessoDocumentoObservacao}"
                maxlength="150" />

        </wi:dataForm>

    </ui:define>
    <ui:define name="tabs">

        <infox:tab
            status=":status"
            id="associarPapelTab"
            rendered="#{home.managed}"
            name="associarPapelTab"
            title="#{messages['tipoProcessoDocumento.papel']}">

            <s:div id="divAssociarPapel">

                <wi:dataForm
                    formId="tipoProcessoDocumentoPapelForm"
                    formTitle="#{messages['form.title']}">

                    <wi:selectOneMenuEntity
                        id="papel"
                        label="#{messages['tipoProcessoDocumentoPapel.papel']}"
                        items="#{tipoProcessoDocumentoPapelHome.papelItems()}"
                        value="#{tipoProcessoDocumentoPapelHome.instance.papel}"
                        noSelectionLabel="Selecione..."
                        required="true" />
                    <wi:selectBooleanRadio
                        id="obrigatorio"
                        required="true"
                        value="#{tipoProcessoDocumentoPapelHome.instance.obrigatorio}"
                        label="#{messages['tipoProcessoDocumentoPapel.obrigatorio']}" />
                    <ui:define name="buttons">
                        <wi:commandButtonPersist
                            home="#{tipoProcessoDocumentoPapelHome}"
                            persistAction="tipoProcessoDocumentoPapelHome.persist()" />
                    </ui:define>
                </wi:dataForm>

                <wi:dataTable
                    values="#{tipoProcessoDocumentoPapelList.list(15)}"
                    bean="#{tipoProcessoDocumentoPapelList}"
                    tableTitle="#{tipoProcessoDocumentoHome.instance} - #{messages['form.title']}"
                    id="tipoProcessoDocumentoPapelList"
                    rowId="#{row.idTipoProcessoDocumentoPapel}"
                    listReRender="divAssociarPapel">

                    <wi:columnOutputText
                        columnId="papel"
                        columnHeader="#{messages['tipoProcessoDocumentoPapel.papel']}"
                        value="#{row.papel}" />
                    <wi:columnBoolean
                        columnId="obrigatorio"
                        columnHeader="#{messages['tipoProcessoDocumentoPapel.obrigatorio']}"
                        value="#{row.obrigatorio}" />
                    <ui:define name="headerToolBar" />
                    <ui:define name="toolBar">
                         <wi:toolBar url="/img/remove.png"
                            title="Remover"
                            action="tipoProcessoDocumentoPapelHome.remove(row)"
                            render="divAssociarPapel"
                            execute="@this"
                            id="removeButton"/>
                    </ui:define>

                </wi:dataTable>

            </s:div>

        </infox:tab>

    </ui:define>

</ui:composition>
