<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:a="http://richfaces.org/a4j"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:rich="http://richfaces.org/rich"
	 xmlns:s="http://jboss.org/schema/seam/taglib"
	 xmlns:wi="http://www.itx.com.br/jsf">
	


	<a:region id="papelForm">
		
		<rich:panel header="Papéis">
			
			<wi:inputText
				 label="Identificador"
				 value="#{papelHome.instance.identificador}"
				 required="true"
				 rendered="#{not identityManager.roleExists(papelHome.instance.identificador)}"
				 id="identificador" />

			<wi:outputText
				 label="Identificador"
				 value="#{papelHome.instance.identificador}"
				 rendered="#{identityManager.roleExists(papelHome.instance.identificador)}"
				 id="identificadorOutput" />

			<wi:inputText
				 label="Nome"
				 value="#{papelHome.instance.nome}"
				 required="true"
				 id="nome" />

			<ui:param
				 name="targetListWidth"
				 value="400" />
			<ui:param
				 name="sourceListWidth"
				 value="400" />
			<wi:tabPanel
				 switchType="ajax"
				 rendered="#{papelHome.managed}">
				<wi:tabHeaders />
				<wi:tab
					 status=":status"
					 title="Papéis">
					
					<a:region>
						
						<wi:pickList
							 id="papel"
							 targetLabel="Papéis dos quais recebe permissões:"
							 value="#{papelHome.papeis}"
							 itemValues="#{papelHome.getPapeisDisponiveis(true)}"
							 itemLabel="#{papelHome.getNome(var)}" />
					
					</a:region>
				
				</wi:tab>
				<wi:tab
					 status=":status"
					 title="Herdeiros">
					
					<a:region>
						
						<wi:pickList
							 id="herdeiros"
							 targetLabel="Papéis para os quais cede permissões:"
							 value="#{papelHome.membros}"
							 itemValues="#{papelHome.getPapeisDisponiveis(false)}"
							 itemLabel="#{papelHome.getNome(var)}" />
					
					</a:region>
				
				</wi:tab>
				<wi:tab
					 status=":status"
					 title="Recursos">
					
					<a:region>
						
						<wi:pickList
							 id="recurso"
							 targetLabel="Recursos do sistema aos quais tem permissão:"
							 value="#{papelHome.recursos}"
							 itemValues="#{papelHome.recursosDisponiveis}"
							 itemLabel="#{papelHome.getNome(var)}" />
					
					</a:region>
				
				</wi:tab>
			
			</wi:tabPanel>

		
		</rich:panel>

		<s:div styleClass="actionButtons">
			
			<a:commandButton
				 id="save"
				 render="papelForm"
				 styleClass="buttons buttons"
				 value="Gravar"
				 action="#{papelHome.save}" />

			<a:commandButton
				 id="new"
				 render="papelForm"
				 styleClass="buttons buttons"
				 execute="@this"
				 value="Novo"
				 action="#{papelHome.newInstance()}" />
		
		</s:div>
		<rich:messages styleClass="error errors" />
	
	</a:region>

</ui:composition>
