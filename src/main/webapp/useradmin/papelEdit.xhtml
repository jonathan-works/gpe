<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:a="http://richfaces.org/a4j"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:wi="http://www.itx.com.br/jsf"
  xmlns:infox="http://www.infox.com.br/jsf"
>
  <a:region id="papelForm">
    <wi:inputText
      label="#{messages['papel.identificador']}"
      value="#{papelCrudAction.instance.identificador}"
      required="true"
      rendered="#{not identityManager.roleExists(papelCrudAction.instance.identificador) or not papelCrudAction.managed}"
      id="identificador"
    >
      <f:validator validatorId="papelRecursoIdentificadorValidator" />
      <f:attribute
        name="isPapel"
        value="true"
      />
    </wi:inputText>
    <wi:outputText
      label="#{messages['papel.identificador']}"
      value="#{papelCrudAction.instance.identificador}"
      rendered="#{identityManager.roleExists(papelCrudAction.instance.identificador) and papelCrudAction.managed}"
      id="identificadorOutput"
    />
    <wi:inputText
      label="#{messages['papel.nome']}"
      value="#{papelCrudAction.instance.nome}"
      required="true"
      id="nome"
    />
    <ui:param
      name="targetListWidth"
      value="400"
    />
    <ui:param
      name="sourceListWidth"
      value="400"
    />
    <infox:tabPanel
      id="painelEdit"
      switchType="ajax"
      rendered="#{papelCrudAction.managed}"
      activeTab="#{papelCrudAction.activeInnerTab}"
    >
      <infox:tabHeaders />
      <infox:tab
        id="papeisTab"
        name="papeisTab"
        status=":status"
        title="#{messages['papel.tableTitle']}"
        style="border-style: solid; border-width: 1px; border-color: lightgray"
      >
        <a:region>
          <wi:pickList
            id="papel"
            value="#{papelCrudAction.papeis}"
            itemValues="#{papelCrudAction.getPapeisDisponiveis(true)}"
            itemLabel="#{papelCrudAction.getNome(var)}"
            sourceCaption="#{messages['papel.permission.source']}"
            targetCaption="#{messages['papel.permission.target']}"
          />
        </a:region>
      </infox:tab>
      <infox:tab
        status=":status"
        id="herdeirosTab"
        name="herdeirosTab"
        title="#{messages['papel.heir']}"
        style="border-style: solid; border-width: 1px; border-color: lightgray"
      >
        <a:region>
          <wi:pickList
            id="herdeiros"
            targetCaption="#{messages['papel.heir.target']}"
            sourceCaption="#{messages['papel.heir.target']}"
            value="#{papelCrudAction.membros}"
            itemValues="#{papelCrudAction.getPapeisDisponiveis(false)}"
            itemLabel="#{papelCrudAction.getNome(var)}"
          />
        </a:region>
      </infox:tab>
      <infox:tab
        id="recursosTab"
        name="recursosTab"
        status=":status"
        title="#{messages['recurso.tableTitle']}"
        style="border-style: solid; border-width: 1px; border-color: lightgray"
      >
        <a:region>
          <wi:pickList
            id="recurso"
            targetCaption="#{messages['papel.recurso.target']}"
            value="#{papelCrudAction.recursos}"
            itemValues="#{papelCrudAction.recursosDisponiveis}"
            itemLabel="#{papelCrudAction.getNomeRecurso(var)}"
          />
        </a:region>
      </infox:tab>
    </infox:tabPanel>
  </a:region>
</ui:composition>
