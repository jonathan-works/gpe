<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:rich="http://richfaces.org/rich"
     xmlns:wi="http://www.itx.com.br/jsf"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:infox="http://www.infox.com.br/jsf"
     template="/WEB-INF/xhtml/templates/core/menuTemplate.xhtml">
                       
	<ui:define
         name="title">#{messages['caixa.titlePage']}</ui:define>
	<ui:param
         name="id"
         value="caixa#{id}" />
	
	<ui:param
         name="home"
         value="#{caixaHome}" />
		
	<ui:define
         name="body">
		<infox:tabPanel
			id="defaultTabPanel"
			switchType="ajax"
			activeTab="#{caixaHome.tab}">
			<h:form>
				<infox:tabHeaders />
			</h:form>
			<infox:tab
				id="form"
				name="search"
				rendered="#{caixaHome.managed}"
				immediate="true"
				status=":status"
				title="Formulário"
				action="#{caixaHome.onClickFormTab}"
			>
				<wi:dataForm
	                     formId="caixaForm"
	                     formTitle="#{messages['form.title']}">
							<wi:inputText
	                         id="tarefa"
	                         label="Tarefa"
	                         value="#{caixaHome.instance.tarefa}"
	                         required="true"
	                         disabled="true" />
							<wi:inputText
	                         id="nomeCaixa"
	                         label="#{messages['caixa.nomeCaixa']}"
	                         value="#{caixaHome.instance.nomeCaixa}"
	                         required="true"
	                         length="100" />
							<wi:inputTextarea
	                         id="dsCaixa"
	                         label="#{messages['caixa.dsCaixa']}"
	                         value="#{caixaHome.instance.dsCaixa}" />						
	
							<wi:selectOneMenu
	                         id="idNodeAnterior"
	                         label="Nó Anterior"
	                         value="#{caixaHome.instance.idNodeAnterior}"
	                         valueItems="#{caixaHome.getPreviousNodes(caixaHome.instance.tarefa.idTarefa)}" />
						 <ui:define
	                         name="buttons">
							<wi:commandButtonUpdate />
							<wi:commandButton
         						id="voltarBtn"
						         value="Voltar"
						         disabled="#{disabled}"
						         onclick="location.href='#{util.getContextPath()}/Painel/list.seam'">
							</wi:commandButton>
						</ui:define>
					</wi:dataForm>
			</infox:tab>
		</infox:tabPanel>
	</ui:define>

</ui:composition>
