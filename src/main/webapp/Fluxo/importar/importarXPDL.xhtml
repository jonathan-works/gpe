<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:a="http://richfaces.org/a4j"
     xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:rich="http://richfaces.ajax4jsf.org/rich"
     xmlns:s="http://jboss.org/schema/seam/taglib"
     xmlns:wi="http://www.itx.com.br/jsf"
     template="/WEB-INF/xhtml/templates/minimal.xhtml">

	<ui:define
         name="title">#{messages['importarXPDL.titlePage']}</ui:define>

	<ui:define
         name="body">

		<ui:param
             name="action"
             value="#{importarXPDLAction}" />
		<ui:param
             name="home"
             value="#{fileHome}" />
		<ui:param
             name="fluxo"
             value="#{fluxoHome}" />
		
		<h:form
             id="uploadXPDL">
		
		<a:jsFunction
                 name="chamarMetodo"
                 action="#{action.importarXPDL(home.getData(), fluxo.instance.fluxo)}" />
					  
			<wi:fileUploadBox
                 id="uploadArquivo"
                 label="Arquivo XPDL"
                 tipMessage="Somente arquivos XPDL"
                 acceptedTypes="xpdl"
                 onuploadcomplete="chamarMetodo();window.close();"
                 onchange="clearSign();">
			</wi:fileUploadBox>
		</h:form>
	</ui:define>

</ui:composition>
