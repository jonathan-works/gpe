<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:wi="http://www.itx.com.br/jsf" >

    <ui:param name="task" value="#{taskFitter.currentTask}" />
    <ui:param name="tarefa" value="#{taskFitter.tarefaAtual}" />
    
    <rich:panel bodyClass="panel" header="#{eppmessages['process.expiration.expirationDate']}" id="expirationPanel">
        <h:panelGroup id="expirationPanelGroup" rendered="true">
            Aqui aparecerá a data de expiração
        </h:panelGroup>
        <h:form id="expirationForm" rendered="true">
            <wi:inputDate id="expirationDate" value="#{taskExpirationAction.expiration}" required="true" future="true" 
                label="#{eppmessages['process.expiration.expirationDate']}">
                <a:ajax event="change" execute="@this" render="expirationDateDecoration, pageBodyDialogMessage" limitRender="true" />
            </wi:inputDate>
            <wi:selectOneMenu id="transition" value="#{taskExpirationAction.transition}"
                label="#{eppmessages['process.expiration.transition']}" items="#{task.transitions}" 
                showLabelSelecione="true" required="true">
                <a:ajax event="change"  execute="@this" render="transitionDecoration, pageBodyDialogMessage" limitRender="true" />
            </wi:selectOneMenu>
            <div />
            <wi:commandButton id="gravarExpiration" action="#{taskExpirationAction.addExpiration(tarefa)}" 
                value="#{eppmessages['process.expiration.incluir']}" reRender="expirationPanel"/>
        </h:form>
    </rich:panel>
</ui:composition>
