<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
  IBPM - Ferramenta de produtividade Java
  Copyright (c) 1986-2009 Infox Tecnologia da Informação Ltda.
 
  Este programa é software livre; você pode redistribuí-lo e/ou modificá-lo 
  sob os termos da GNU GENERAL PUBLIC LICENSE (GPL) conforme publicada pela 
  Free Software Foundation; versão 2 da Licença.
  Este programa é distribuído na expectativa de que seja útil, porém, SEM 
  NENHUMA GARANTIA; nem mesmo a garantia implícita de COMERCIABILIDADE OU 
  ADEQUAÇÃO A UMA FINALIDADE ESPECÍFICA.
  
  Consulte a GNU GPL para mais detalhes.
  Você deve ter recebido uma cópia da GNU GPL junto com este programa; se não, 
  veja em http://www.gnu.org/licenses/  
--><ui:composition
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:a="http://richfaces.org/a4j"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:rich="http://richfaces.org/rich"
	 xmlns:s="http://jboss.org/schema/seam/taglib"
	 xmlns:wi="http://www.itx.com.br/jsf"
	 xmlns:infox="http://www.infox.com.br/jsf">
	

    <ui:param
		 name="home"
		 value="#{tarefaEventoHome}" />

    <s:div id="pageBody">
		
        <infox:tabPanel
			 switchType="client"
			 headerSpacing="2"
			 activeTab="#{home.tab}">
			<h:form><infox:tabHeaders /></h:form>
            <infox:tab
				 id="search"
				 name="search"
				 status=":status"
				 title="#{messages['tarefaEvento.labelSearchTab']}">
				
                <a:region>
					
                    <wi:dataTable
						 values="#{tarefaEventoList.list(15)}"
						 bean="#{tarefaEventoList}"
						 tableTitle="#{messages['tarefaEvento.titleGrid']}"
						 id="tarefaEventoList"
						 rowId="#{row.idTarefaEvento}">
						
                        <wi:columnEnum
							 columnId="evento"
							 columnHeader="#{messages['tarefaEvento.evento']}"
							 value="#{row.evento}" />
                        <wi:columnOutputText
							 columnId="tarefaOrigem"
							 columnHeader="#{messages['tarefaEvento.tarefaOrigem']}"
							 value="#{row.tarefaOrigem}" />
                            <ui:define name="headerToolBar" />
                        <ui:define name="toolBar">
							
                            <ui:include src="/WEB-INF/xhtml/components/grid/tools/toolBarEvents.xhtml" />
                        
						</ui:define>
                    
					</wi:dataTable>

                
				</a:region>
            
			</infox:tab>
            <infox:tab
				 id="form"
				 name="form"
				 immediate="true"
				 status=":status"
				 title="#{messages['tarefaEvento.labelFormTab']}">
				
                <a:region>
					
                    <wi:dataForm
						 formId="eventosDeTarefaForm"
						 formTitle="#{messages['form.title']}">
						
                        <ui:include src="/WEB-INF/xhtml/components/form/comboEvents.xhtml" />
                        <ui:include src="/WEB-INF/xhtml/components/form/buttons/eventsButtons.xhtml" />
                        <ui:define name="buttons" />
                    
					</wi:dataForm>
                
				</a:region>
            
			</infox:tab>
            <infox:tab
				 id="agrupamentoTarefa"
				 name="agrupamentoTarefa"
				 status=":status"
				 rendered="#{home.managed}"
				 title="#{messages['tarefaEvento.agrupamentoTarefa']}"
                 action="#{tarefaEventoHome.carregarAgrupamentos()}">
				
                <a:region>
					
                    <h:form id="registraEventoForm">
						
                        <wi:pickList
							 id="agrupamentos"
							 value="#{tarefaEventoHome.registrados}"
							 sourceListWidth="250"
							 targetListWidth="250"
							 listsHeight="200px"
							 itemValues="#{tarefaEventoHome.agrupamentos}"
							 itemLabel="#{var}">
							
                            <a:ajax
								 event="change"
								 execute="@this"
								 limitRender="true" />
                        
						</wi:pickList>
                        <rich:messages
							 globalOnly="true"
							 infoClass="formMessage"
							 
							 errorClass="error formMessage"
							 warnStyle="display: none" />
                        <a:commandButton
							 value="Salvar"
							 styleClass="buttons buttons"
							 action="#{tarefaEventoHome.update()}" />
                    
					</h:form>
                
				</a:region>
            
			</infox:tab>
        
		</infox:tabPanel>
    
	</s:div>


</ui:composition>
