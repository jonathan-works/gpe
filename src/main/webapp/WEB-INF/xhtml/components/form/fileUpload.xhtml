<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:a="http://richfaces.org/a4j"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:wi="http://www.itx.com.br/jsf">
  <ui:param
    name="template"
    value="#{wi:get(template, '/WEB-INF/xhtml/components/templates/edit.xhtml')}" />
  <s:decorate
    id="#{id}Decoration"
    template="#{template}"
    rendered="#{wi:get(rendered, true)}">
    <ui:param
      name="accept"
      value="#{wi:get(accept, 'application/pdf')}" />
    <ui:param
      name="tipMessage"
      value="#{accept == 'application/pdf' ? messages['fileUpload.restriction.pdf'] : tipMessage}" />
    <ui:define name="label">#{label}</ui:define>
    <rich:fileUpload
      id="#{id}"
      execute="@this"
      status=":status"
      limitRender="true"
      required="#{wi:get(required, false)}"
      fileUploadListener="#{documentoUploader.processFileUpload}"
      addLabel="#{messages['processoDocumento.addLabel']}"
      clearAllLabel="#{messages['processoDocumento.clearAllLabel']}"
      clearLabel="#{messages['processoDocumento.clearLabel']}"
      doneLabel="#{messages['processoDocumento.doneLabel']}"
      uploadLabel="#{messages['processoDocumento.uploadLabel']}"
      sizeExceededLabel="#{messages['processoDocumento.sizeExceededLabel']}"
      maxFilesQuantity="1"
      listHeight="50px"
      immediateUpload="true"
      noDuplicate="true"
      render="#{reRender}, pageBodyDialogMessage"
      acceptedTypes="pdf">
    </rich:fileUpload>
  </s:decorate>
</ui:composition>