<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:wi="http://www.itx.com.br/jsf"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://richfaces.org/a4j">

	<ui:param name="id" value="#{empty id ? 'id' : id}"></ui:param>
	<ui:param name="showMeioExpedicao" value="#{empty showMeioExpedicao ? false : showMeioExpedicao}"></ui:param>
	<ui:param name="showDestinatario" value="#{empty showDestinatario ? true : showDestinatario}"></ui:param>
	<ui:param name="showDataEnvio" value="#{empty showDataEnvio ? true : showDataEnvio}"></ui:param>
	<ui:param name="prazoResposta" value="#{empty prazoResposta ? '-' : prazoResposta}"></ui:param>
	<ui:param name="showPrazoResposta" value="#{empty showPrazoResposta ? false : showPrazoResposta}"></ui:param>
	<ui:param name="showDataResposta" value="#{empty showDataResposta ? true : showDataResposta}"></ui:param>
	<ui:param name="showTipoComunicacao" value="#{empty showTipoComunicacao ? true : showTipoComunicacao}"></ui:param>
	<ui:param name="showStatusProrrogacao" value="#{empty showStatusProrrogacao ? false : showStatusProrrogacao}"></ui:param>
	<ui:param name="showDownloadComunicacaoCompleta" value="#{empty showDownloadComunicacaoCompleta ? true : showDownloadComunicacaoCompleta}"></ui:param>
	<ui:param name="showDownloadDocumentoPrincipal" value="#{empty showDownloadDocumentoPrincipal ? false : showDownloadDocumentoPrincipal}"></ui:param>
	
	<wi:outputText id="#{id}meioExpedicao"
		label="#{infoxMessages['comunicacao.meioExpedicao']}"
		value="#{meioExpedicao}"
		rendered="#{showMeioExpedicao}" />
	<wi:outputText id="#{id}destinatario"
		label="#{infoxMessages['comunicacao.destinatario']}"
		value="#{destinatario}"
		rendered="#{showDestinatario}" />
	<wi:outputText id="#{id}dataExpedicaoComunicacao"
		label="#{infoxMessages['comunicacao.dataEnvio']}"
		value="#{dataEnvio}"
		rendered="#{showDataEnvio}">
		<f:convertDateTime pattern="dd/MM/yyyy" />
	</wi:outputText>
	<wi:outputText id="#{id}prazoResposta" 
		label="#{infoxMessages['comunicacao.prazoResposta']}"
		value="#{prazoResposta}"
		rendered="#{showPrazoResposta}">
		<f:convertDateTime pattern="dd/MM/yyyy" />
	</wi:outputText>
	<wi:outputText id="#{id}dataResposta"
		label="#{infoxMessages['comunicacao.dataResposta']}"
		value="#{dataResposta}"
		rendered="#{showDataResposta}">
		<f:convertDateTime pattern="dd/MM/yyyy" />
	</wi:outputText>
	<wi:outputText id="#{id}dataCienciaComunicacao"
		label="#{infoxMessages['comunicacao.dataCiencia']}"
		value="#{dataCiencia}"
		rendered="#{not empty dataCiencia}">
		<f:convertDateTime pattern="dd/MM/yyyy" />
	</wi:outputText>
	<wi:outputText id="#{id}responsavelCienciaComunicacao"
		label="#{infoxMessages['comunicacao.responsavelConfirmacao']}"
		value="#{responsavelCiencia}"
		rendered="#{not empty responsavelCiencia}" />
	<wi:outputText id="#{id}tipoComunicacao"
		label="#{infoxMessages['comunicacao.tipoComunicacao']}"
		value="#{tipoComunicacao}"
		rendered="#{showTipoComunicacao}" />
	<wi:outputText id="#{id}statusProrrogacao" 
		label="#{infoxMessages['comunicacao.statusProrrogacao']}"
		value="#{statusProrrogacao}"
		rendered="#{showStatusProrrogacao}">
	</wi:outputText>
	
	<ui:fragment rendered="#{not empty informacoesAdicionais}">
		<ui:include src="#{informacoesAdicionais}"></ui:include>
	</ui:fragment>
	
	<h:form>
		<a:commandButton
			id="#{id}baixarComunicacaoBtn"
			value="#{infoxMessages['comunicacao.visualizarComunicacao']}"
			styleClass="buttons" type="button" 
			onclick="infox.openPopUp('documento', '#{documentoDownloader.getViewUrl(documentoComunicacao)}');"
			rendered="#{showDownloadDocumentoPrincipal}" />
		<a:commandButton id="#{id}visualizarComunicacao" 
               value="#{infoxMessages['comunicacao.visualizarComunicacao']}" 
               styleClass="buttons"
               onclick="infox.openPopUp('download', '#{pathResolver.contextPath}/Processo/baixarComunicacao.seam?idDestinatario=#{idDestinatario}','1024'); return false;"
               rendered="#{showDownloadComunicacaoCompleta}" />
		
	</h:form>

</ui:composition>