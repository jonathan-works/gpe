<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib">

    <ui:param name="bin" value="#{empty bin ? c.value : bin}" />
    <ui:param name="isModelo" value="#{not empty bin.modeloDocumento}" />

    <div id="teste">

        <span class="#{var.ativo ? '' : 'inativo'}" />

        <h:commandLink
            action="#{documentoHtmlView.setViewInstance(var)}"
            onclick="openPopUp('PopUpDocumentoBin', '')"
            rendered="#{isModelo}" target="PopUpDocumentoBin">
            <h:graphicImage title="Visualizar" url="/img/view.gif" />
        </h:commandLink>

        <h:commandLink target="idPdf#{row}" rendered="#{!isModelo}"
            action="#{documentoDownloader.setDownloadInstance(var)}"
            onclick="openPopUp('idPdf#{row}', 'about:blank');">
            <h:graphicImage value="/img/pdf.gif"
                title="#{bin.nomeArquivo} (#{util.getFormattedKb(bin.size)})" />
        </h:commandLink>

        <s:link target="idJan#{var.idProcessoDocumento}"
            rendered="#{not empty bin.signature}"
            view="/Processo/Consulta/validaDocumento.xhtml"
            onclick="openPopUp('idJan#{var.idProcessoDocumento}', 'about:blank');">

            <h:graphicImage title="Validar Assinatura Digital"
                alt="Validar Assinatura Digital" url="/img/lock.png" />
            <f:param value="#{var.idProcessoDocumento}"
                name="idProcessoDocumento" />

        </s:link>
        <s:link target="idJan#{var.idProcessoDocumento}"
            rendered="#{empty bin.signature}"
            view="/Processo/Consulta/assinaDocumento.xhtml"
            onclick="infox.abrirPopUp('idJan#{var.idProcessoDocumento}');">

            <h:graphicImage title="Assinar Documento #{var.idProcessoDocumento}"
                alt="Assinar Documento" url="/img/lock_unlock.png" />
            <f:param value="#{var.idProcessoDocumento}"
                name="idProcessoDocumento" />
        </s:link>

    </div>

</ui:composition>
