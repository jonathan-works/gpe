<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:wi="http://www.itx.com.br/jsf" 
	xmlns:infox="http://www.infox.com.br/jsf">
	
    <ui:param name="bin" value="#{empty bin ? c.value : bin}" />
    <ui:param name="isModelo" value="#{empty bin.extensao}" />
    <ui:param name="row" value="#{row}" />
    
    <span>
        <infox:flashcopy/>
        <span class="#{row.excluido ? 'inativo' : ''}" />
        
        <a:commandLink
            execute="@this" render="@form"
            oncomplete="infox.openPopUp('PopUpDocumentoBin', '#{pathResolver.contextPath}/Processo/baixarDocumento.seam','1024');">
            <h:graphicImage styleClass="opacityHover" value="#{layoutController.getResourceUrlByPath('/imagens/mod/pdf.gif')}"
                title="#{bin.nomeArquivo} (#{documentoDownloader.getFormattedKb(bin)})"/>
            <f:setPropertyActionListener value="#{row.id}" target="#{flash.idDocumento}" />
            <f:setPropertyActionListener value="#{true}" target="#{flash.binario}" />
        </a:commandLink>
        
        <wi:toolBarAssinatura idDocumento="#{row.id}" styleClass="opacityHover" renderedLock="#{bin.suficientementeAssinado}" />
    </span>
</ui:composition>
