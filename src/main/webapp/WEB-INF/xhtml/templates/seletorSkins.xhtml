<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- $Id: menu.xhtml 750 2010-08-24 14:10:58Z danielsilva $ -->


<ui:composition	xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:wi="http://www.itx.com.br/jsf"
				xmlns:a="http://richfaces.org/a4j"
				xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:s="http://jboss.org/schema/seam/taglib"
				xmlns:rich="http://richfaces.org/rich">

	<ui:param name="mostrarMenu"
		value="#{wi:get(mostrarMenu, identity.loggedIn and !usuarioLogado.provisorio)}" />
	
	<h:form class="palette" rendered="#{mostrarMenu}">			
        <div>
	        <h:graphicImage 
			    url="#{a4jSkin.imgIconPalette}" 
			    style="cursor:pointer"
				title="Alterar o esquema de cores"
				onclick="Richfaces.showModalPanel('#{id}-skinPanel')" />	
   				 							
			<h:commandButton 
				action="#{skinZoom.setTmNormal()}" 
				image="#{a4jSkin.imgIconZoomNormal}"
				style="width: 17px;	height: 21px;"/>	
				
		    <h:commandButton 
				action="#{skinZoom.setTmMedio()}" 
				image="#{a4jSkin.imgIconZoomMedio}"
				style="width: 17px;	height: 21px;"/>
		    
		    <h:commandButton 
				action="#{skinZoom.setTmGrande()}" 
				image="#{a4jSkin.imgIconZoomGrande}"
				style="width: 17px;	height: 21px;"/>	
        </div>      
	</h:form>

	<rich:modalPanel id="#{id}-skinPanel" height="100">
		<f:facet name="header">Esquema de cores da aplicação</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/img/closeMP.gif"
					onclick="Richfaces.hideModalPanel('#{id}-skinPanel')"/>
			</h:panelGroup>				
		</f:facet>
		<s:decorate template="/WEB-INF/xhtml/components/templates/edit.xhtml">
			<ui:define name="label">
				<h:outputText value="Escolha o esquema:" styleClass="label" />
			</ui:define>
			<h:form>
				<h:selectOneMenu value="#{wiSkin.skin}" style="width: 250px"
					onchange="this.form.submit()">
					<f:selectItems value="#{wiSkin.skinList}" />
				</h:selectOneMenu>
			</h:form>
		</s:decorate>
	</rich:modalPanel>

</ui:composition>
